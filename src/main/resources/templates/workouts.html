<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
    <div class="header">
        <h1>ExerciseLog</h1>
        <div>
            <a th:href="@{/profile}">Profile</a>
            <a th:href="@{/logout}">Logout</a>
        </div>
    </div>
    <div class="nav">
        <a th:href="@{/home}">Home</a>
        <a th:href="@{/workouts}">Workouts</a>
        <a th:href="@{/planned}">Exercise Planning</a>
        <a th:href="@{/logs}">Exercise Logs</a>
    </div>
    <div class="content">
        <h2>Workouts</h2>
        <p>Here you will manage your workouts. It will also serve as a display page for your workouts. A completed workout will log all the completed exercises and their data to a separate page for tracking.</p>
    </div>
    <h3>Planned Workouts</h3>
        <div th:if="${workouts.size() > 0}">
            <ul>
                <li th:each="workout : ${workouts}">
                    <span th:text="${workout.name}">Workout Name</span> - 
                    <span th:text="${workout.date}">Workout Date</span>
                    <a th:href="@{/workouts/start/{id}(id=${workout.id})}">Start Workout</a>
                </li>
            </ul>
        </div>
        <div th:if="${workouts.size() == 0}">
            <p>No planned workouts found. <a th:href="@{/planned}">Plan some exercises first</a> or add a new workout below.</p>
        </div>
    <h3>Add New Workout</h3>
    <form action="#" th:action="@{/add-workout}" method="post">
        <label for="name">Workout Name:</label>
        <input type="text" id="name" name="name" required>
        <br>

        <label for="date">Workout Date:</label>
        <input type="date" id="date" name="date" required>
        <br>

        <label for="notes">Notes (optional):</label>
        <input type="text" id="notes" name="notes">
        <br>

        <h3>Exercises In Workout:</h3>
        <ul>
            <li th:each="plannedExercise : ${plannedExercises}">
                <input type="checkbox" th:name="plannedExerciseIds" th:value="${plannedExercise.id}">
                <span th:text="${plannedExercise.exercise.name}">Exercise Name</span> -
                <span th:text="${plannedExercise.plannedSets}">Sets</span> x
                <span th:text="${plannedExercise.plannedReps}">Reps</span> @
                <span th:text="${plannedExercise.plannedWeight}">Weight</span> kg
            </li>
        </ul>

        <button type="submit">Create Workout</button>
    </form>
    <h3>Completed Workouts</h3>
        <div th:if="${completedWorkouts.size() > 0}">
            <ul>
                <li th:each="completedWorkout : ${completedWorkouts}">
                    <span th:text="${completedWorkout.name}">Completed Workout Name</span> - 
                    <span th:text="${completedWorkout.date}">Completed Workout Date</span>
                </li>
            </ul>
        </div>
        <div th:if="${completedWorkouts.size() == 0}">
            <p>No completed workouts yet!</p>
        </div>
</body>
</html>